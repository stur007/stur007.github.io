<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All Posts | {{ site.title }}</title>
  
  <!-- MathJax Configuration -->
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      },
      chtml: {
        linebreaks: { automatic: true }
      }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary-color: #6ab0ff;
      --secondary-color: #a5caff;
      --accent-color: #ff7b72;
      --dark-bg: #1a1a1a;
      --darker-bg: #151515;
      --card-bg: #222;
      --text-color: #e6e6e6;
      --text-muted: #aaa;
      --border-color: #444;
      --shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      max-width: 1000px;
      margin: 0 auto;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.7;
      padding: 20px;
      background: var(--dark-bg);
      color: var(--text-color);
      min-height: 100vh;
    }

    /* Main Content Area */
    #post-content {
      background: var(--card-bg);
      padding: 30px;
      border-radius: 10px;
      box-shadow: var(--shadow);
      margin: 0 auto;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.3;
      margin-top: 1.5em;
      margin-bottom: 0.8em;
      color: var(--secondary-color);
    }

    h1 {
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 0.3em;
      margin-top: 0;
    }

    /* Navigation Styling */
    .site-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border-color);
    }

    .site-title a {
      font-size: 1.5em;
      font-weight: 700;
      color: var(--secondary-color);
    }

    .site-nav-links {
      display: flex;
      gap: 20px;
    }

    /* Post List Styling */
    .post-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .post-list-item {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .post-list-title {
      margin-bottom: 10px;
      font-size: 1.4em;
    }

    .post-list-title a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition);
    }

    .post-list-title a:hover {
      color: var(--accent-color);
      text-decoration: underline;
    }

    .post-meta {
      color: var(--text-muted);
      font-size: 0.9em;
      margin-bottom: 10px;
    }

    .post-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    .post-tag {
      background: rgba(106, 176, 255, 0.2);
      color: var(--primary-color);
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 0.8em;
      transition: var(--transition);
    }

    .post-tag:hover {
      background: var(--primary-color);
      color: var(--darker-bg);
    }

    .post-list-excerpt {
      color: var(--text-muted);
      margin-bottom: 15px;
      line-height: 1.6;
    }

    .read-more {
      display: inline-block;
      color: var(--primary-color);
      font-weight: 500;
      text-decoration: none;
    }

    .read-more:hover {
      color: var(--accent-color);
      text-decoration: underline;
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--border-color);
    }

    .pagination a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 500;
    }

    .pagination a:hover {
      color: var(--accent-color);
      text-decoration: underline;
    }

    /* Filter Sections */
    .filter-section {
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(106, 176, 255, 0.1);
      border-radius: 8px;
    }

    .filter-title {
      margin-top: 0;
      margin-bottom: 15px;
      font-size: 1.1em;
      color: var(--secondary-color);
    }

    .filter-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .filter-item {
      background: var(--darker-bg);
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.9em;
      cursor: pointer;
      transition: var(--transition);
    }

    .filter-item a {
      color: var(--text-color);
      text-decoration: none;
    }

    .filter-item:hover {
      background: var(--primary-color);
    }

    .filter-item:hover a {
      color: var(--darker-bg);
    }

    .filter-item.active {
      background: var(--primary-color);
    }

    .filter-item.active a {
      color: var(--darker-bg);
      font-weight: 600;
    }

    /* Search Box */
    .search-box {
      margin-bottom: 25px;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 12px 15px;
      padding-left: 40px;
      background: var(--darker-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-color);
      font-size: 1em;
    }

    .search-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
    }

    /* No results message */
    .no-results {
      text-align: center;
      padding: 40px 0;
      color: var(--text-muted);
      font-style: italic;
    }

    /* Footer Styling */
    .footer {
      margin-top: 40px;
      text-align: center;
      padding: 20px;
      border-top: 1px solid var(--border-color);
      color: var(--text-muted);
      font-size: 0.9em;
    }

    /* Back to top button */
    .back-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: var(--primary-color);
      color: var(--darker-bg);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: var(--shadow);
      opacity: 0.8;
      transition: var(--transition);
      z-index: 100;
    }

    .back-to-top:hover {
      opacity: 1;
      transform: translateY(-5px);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 15px;
      }
      
      #post-content {
        padding: 20px;
      }
      
      .site-nav {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .site-nav-links {
        width: 100%;
        justify-content: space-between;
      }
      
      .post-list-title {
        font-size: 1.2em;
      }
      
      .back-to-top {
        bottom: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
      }
      
      .filter-list {
        gap: 8px;
      }
      
      .filter-item {
        font-size: 0.8em;
        padding: 4px 10px;
      }
    }

    /* Links */
    a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition);
      font-weight: 500;
    }

    a:hover {
      color: var(--accent-color);
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <main id="post-content">
    <!-- Site Navigation -->
    <nav class="site-nav">
      <div class="site-title">
        <a href="{{ site.baseurl }}/">{{ site.title }}</a>
      </div>
      <div class="site-nav-links">
        <a href="{{ site.baseurl }}/">Home</a>
        <a href="{{ site.baseurl }}/about">About</a>
      </div>
    </nav>

    <!-- Page Title -->
    <h1>All Posts</h1>
    
    <!-- Search Box -->
    <div class="search-box">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="search-input" class="search-input" placeholder="Search posts...">
    </div>
    
    <!-- Category Filters -->
    <div class="filter-section">
      <h3 class="filter-title">Categories</h3>
      <ul class="filter-list" id="category-filters">
        <li class="filter-item active" data-filter="all">
          <a href="#" onclick="filterPosts('all'); return false;">All</a>
        </li>
        {% for category in site.categories %}
        <li class="filter-item" data-filter="category-{{ category[0] | slugify }}">
          <a href="#" onclick="filterPosts('category-{{ category[0] | slugify }}'); return false;">{{ category[0] }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
    
    <!-- Tag Filters -->
    <div class="filter-section">
      <h3 class="filter-title">Tags</h3>
      <ul class="filter-list" id="tag-filters">
        <li class="filter-item active" data-filter="all">
          <a href="#" onclick="filterPosts('all'); return false;">All</a>
        </li>
        {% assign all_tags = "" | split: "" %}
        {% for post in site.posts %}
          {% for tag in post.tags %}
            {% unless all_tags contains tag %}
              {% assign all_tags = all_tags | push: tag %}
            {% endunless %}
          {% endfor %}
        {% endfor %}
        {% assign sorted_tags = all_tags | sort %}
        {% for tag in sorted_tags %}
        <li class="filter-item" data-filter="tag-{{ tag | slugify }}">
          <a href="#" onclick="filterPosts('tag-{{ tag | slugify }}'); return false;">{{ tag }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>

    <!-- Posts List -->
    <ul class="post-list" id="posts-container">
      {% for post in site.posts %}
        <li class="post-list-item" 
            data-categories="{% for category in post.categories %}category-{{ category | slugify }} {% endfor %}"
            data-tags="{% for tag in post.tags %}tag-{{ tag | slugify }} {% endfor %}"
            data-title="{{ post.title | downcase }}">
          <h2 class="post-list-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h2>
          <div class="post-meta">
            Published on {{ post.date | date: "%B %d, %Y" }}
            {% if post.categories.size > 0 %}
              in 
              {% for category in post.categories %}
                <a href="#" onclick="filterPosts('category-{{ category | slugify }}'); return false;">{{ category }}</a>{% unless forloop.last %}, {% endunless %}
              {% endfor %}
            {% endif %}
          </div>
          {% if post.tags.size > 0 %}
          <div class="post-tags">
            {% for tag in post.tags %}
              <span class="post-tag" onclick="filterPosts('tag-{{ tag | slugify }}'); return false;">#{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
          <div class="post-list-excerpt">
            {{ post.excerpt | strip_html | truncatewords: 50 }}
          </div>
          <a href="{{ post.url | relative_url }}" class="read-more">Read more →</a>
        </li>
      {% endfor %}
    </ul>
    
    <!-- No results message (hidden by default) -->
    <div id="no-results" class="no-results" style="display: none;">
      <p>No posts found matching your criteria.</p>
      <p><a href="#" onclick="filterPosts('all'); return false;">Show all posts</a></p>
    </div>
    
    <!-- Back to Home -->
    <div class="pagination">
      <a href="{{ site.baseurl }}/">&larr; Back to Home</a>
    </div>
    
    <!-- Footer -->
    <div class="footer">
      <p>&copy; {{ site.time | date: '%Y' }} {{ site.title }}. Powered by <a href="https://jekyllrb.com/">Jekyll</a>.</p>
    </div>
  </main>

  <!-- Back to Top Button -->
  <a href="#" class="back-to-top">
    <i class="fas fa-arrow-up"></i>
  </a>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Back to top button functionality
      const backToTopButton = document.querySelector('.back-to-top');
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTopButton.style.display = 'flex';
        } else {
          backToTopButton.style.display = 'none';
        }
      });
      
      backToTopButton.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
      
      // Search functionality
      const searchInput = document.getElementById('search-input');
      searchInput.addEventListener('input', function() {
        filterPosts('all', this.value.toLowerCase());
      });
    });
    
    // Filter posts by category, tag, or search
    function filterPosts(filterType, searchTerm = '') {
      const posts = document.querySelectorAll('.post-list-item');
      const categoryFilters = document.querySelectorAll('#category-filters .filter-item');
      const tagFilters = document.querySelectorAll('#tag-filters .filter-item');
      const noResults = document.getElementById('no-results');
      let visiblePosts = 0;
      
      // Reset all filters
      categoryFilters.forEach(item => item.classList.remove('active'));
      tagFilters.forEach(item => item.classList.remove('active'));
      
      // Activate the selected filter
      if (filterType === 'all') {
        document.querySelector('[data-filter="all"]').classList.add('active');
      } else if (filterType.startsWith('category-')) {
        document.querySelector(`[data-filter="${filterType}"]`).classList.add('active');
      } else if (filterType.startsWith('tag-')) {
        document.querySelector(`[data-filter="${filterType}"]`).classList.add('active');
      }
      
      // Filter posts
      posts.forEach(post => {
        const categories = post.getAttribute('data-categories');
        const tags = post.getAttribute('data-tags');
        const title = post.getAttribute('data-title');
        let showPost = true;
        
        // Apply category/tag filter
        if (filterType !== 'all') {
          if (filterType.startsWith('category-') && !categories.includes(filterType)) {
            showPost = false;
          } else if (filterType.startsWith('tag-') && !tags.includes(filterType)) {
            showPost = false;
          }
        }
        
        // Apply search filter
        if (showPost && searchTerm) {
          if (!title.includes(searchTerm)) {
            showPost = false;
          }
        }
        
        // Show or hide the post
        if (showPost) {
          post.style.display = 'block';
          visiblePosts++;
        } else {
          post.style.display = 'none';
        }
      });
      
      // Show no results message if needed
      if (visiblePosts === 0) {
        noResults.style.display = 'block';
      } else {
        noResults.style.display = 'none';
      }
    }
  </script>

</body>
</html>